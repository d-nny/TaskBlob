<%- include('partials/header') %>

<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>Dashboard</h1>
  <div>
    <a href="/domains/add" class="btn btn-primary"><i class="bi bi-plus"></i> Add Domain</a>
  </div>
</div>

<div class="row">
  <!-- Server Status -->
  <div class="col-md-6">
    <div class="card">
      <div class="card-header">
        <h5>Server Status</h5>
      </div>
      <div class="card-body">
        <h6>Disk Usage</h6>
        <pre class="bg-light p-2 mb-3"><%= diskUsage %></pre>
        
        <h6>Memory Usage</h6>
        <pre class="bg-light p-2"><%= memoryUsage %></pre>
      </div>
    </div>
  </div>

  <!-- Domain Overview -->
  <div class="col-md-6">
    <div class="card">
      <div class="card-header">
        <h5>Domain Overview</h5>
      </div>
      <div class="card-body">
        <% if (domains && domains.length > 0) { %>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Domain</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <% domains.forEach(function(domain) { %>
                <tr>
                  <td><%= domain.domain %></td>
                  <td>
                    <% if (domain.active) { %>
                      <span class="badge badge-success">Active</span>
                    <% } else { %>
                      <span class="badge badge-secondary">Inactive</span>
                    <% } %>
                  </td>
                  <td>
                    <a href="/dns?domain=<%= domain.domain %>" class="btn btn-sm btn-info">
                      <i class="bi bi-diagram-3"></i> DNS
                    </a>
                  </td>
                </tr>
              <% }); %>
            </tbody>
          </table>
        <% } else { %>
          <div class="alert alert-info">
            No domains configured yet. <a href="/domains/add">Add a domain</a> to get started.
          </div>
        <% } %>
      </div>
    </div>
  </div>
</div>

<div class="row mt-4">
  <!-- Quick Links -->
  <div class="col-md-12">
    <div class="card">
      <div class="card-header">
        <h5>Quick Links</h5>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-3 mb-3">
            <div class="card text-center">
              <div class="card-body">
                <i class="bi bi-envelope-fill" style="font-size: 2rem;"></i>
                <h5 class="mt-2">Email</h5>
                <p>Manage email accounts and settings</p>
                <a href="/accounts" class="btn btn-sm btn-primary">Manage</a>
              </div>
            </div>
          </div>
          <div class="col-md-3 mb-3">
            <div class="card text-center">
              <div class="card-body">
                <i class="bi bi-globe" style="font-size: 2rem;"></i>
                <h5 class="mt-2">Domains</h5>
                <p>Add and configure domains</p>
                <a href="/domains" class="btn btn-sm btn-primary">Manage</a>
              </div>
            </div>
          </div>
          <div class="col-md-3 mb-3">
            <div class="card text-center">
              <div class="card-body">
                <i class="bi bi-shield-lock" style="font-size: 2rem;"></i>
                <h5 class="mt-2">SSL</h5>
                <p>Manage SSL certificates</p>
                <a href="/certificates" class="btn btn-sm btn-primary">Manage</a>
              </div>
            </div>
          </div>
          <div class="col-md-3 mb-3">
            <div class="card text-center">
              <div class="card-body">
                <i class="bi bi-file-text" style="font-size: 2rem;"></i>
                <h5 class="mt-2">Logs</h5>
                <p>View system logs</p>
                <a href="/logs" class="btn btn-sm btn-primary">View</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('partials/footer') %>
